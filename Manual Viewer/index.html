<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Manual of the Planes</title>
  <link rel="stylesheet" type="text/css" href="viewerStyle.css">
</head>
<body>

<!--Table of Contents Dropdown-->
  <div class="row menu">
    <div class="dropdown">
  <button class="dropbtn" onclick="myDrop()">Contents</button>
  <div id="dropMenu" class="dropdown-content">
  <button id="modalbtn">Note</button>
  <button onclick="currentSlide(1);">Introduction</button>
  <button onclick="currentSlide(2);">The Material Plane</button>
  <button onclick="currentSlide(3);">Parallel Planes</button>
  <button onclick="currentSlide(4);">Inner Planes(I)</button>
  <button onclick="currentSlide(5)">Inner Planes(II)</button>
  <button onclick="currentSlide(6)">Outer Planes(I)</button>
  </div>
</div>
  </div>

<!--Main Pages Display-->
 <div class="row">
   <div class="mySlides column col-3">
     <img src="./assets/manual1.png" onclick="zoomSlide(1);" class="hover-shadow">
   </div>
   <div class="mySlides column col-3">
     <img src="./assets/manual2.png" onclick="zoomSlide(2);" class="hover-shadow">
   </div>
   <div class="mySlides column col-3">
     <img src="./assets/manual3.png" onclick="zoomSlide(3);" class="hover-shadow">
 </div>
 <div class="mySlides column col-3">
   <img src="./assets/manual_inner1.png" onclick="zoomSlide(4);" class="hover-shadow">
 </div>
 <div class="mySlides column col-3">
   <img src="./assets/manual_inner2.png" onclick="zoomSlide(5);" class="hover-shadow">
 </div>
 <div class="mySlides column col-3">
   <img src="./assets/manual_outer1.png" onclick="zoomSlide(6);" class="hover-shadow">
 </div>
<!-- Next/previous controls -->
 <div class="column col-3">
     <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
     <a class="next" onclick="plusSlides(1)">&#10095;</a>
 </div>
   </div>

  <!--Note Pop-up-->
   <div id="myModal" class="modal">
     <div class="modal-content">
     <span class="close" style="font-size: 50px; color: white; opacity: .75;">&times;</span>
     <img src="./assets/notemanual.png">
   </div>
   </div>
   <!--Page Zoom Modal-->
   <div id="zoomModal"  class="modal">
     <div id="zoom" class="zoom-content">
        <span class="close" style="font-size: 50px; color: white; opacity: .75;">&times;</span>
     </div>
   </div>

<script>
var slideIndex = 1;
showSlides(slideIndex);

//Prev/Next Control
function plusSlides(n) {
  showSlides(slideIndex += n);
}

function currentSlide(n) {
  showSlides(slideIndex = n);
}

//Display Slide
function showSlides(n) {
  var i;
  var slides = document.getElementsByClassName("mySlides");
  if (n > slides.length) {slideIndex = 1}
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
  }
  slides[slideIndex-1].style.display = "block";
}

//Display Slide in Zoom Modal
function zoomSlide(n) {

  let isMobile = window.matchMedia("only screen and (max-width: 800px)").matches;

  if(isMobile) {plusSlides(1);}
  else {
  document.getElementById("zoomModal").style.display = "block";
  //var i;
  var slides = document.getElementsByClassName("mySlides");
  if (n > slides.length) {slideIndex = 1}
  if (n <= slides.length) {
    var exist = document.getElementById("zoom");
    var old = exist.getElementsByTagName("img");
    var source = slides[n-1].firstElementChild
    var sourcePath = source.src;
    if (old.length > 0) {
      old[0].setAttribute("src", sourcePath);
    }
    else {
    var page = document.createElement("img");
    page.setAttribute("src", sourcePath);
    exist.appendChild(page);}
  }
}

}

function myDrop() {
  document.getElementById("dropMenu").classList.toggle("show");
}

window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}


// Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("modalbtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];
var span2 = document.getElementsByClassName("close")[1];

// When the user clicks on the button, open the modal
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

span2.onclick = function() {
  var modal = document.getElementById("zoomModal");
  modal.style.display = "none";
}

</script>
</body>
</html>
